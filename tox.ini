# tox configuration - if you change anything here, run this to verify:
# fakeroot -u tox --recreate

[tox]
envlist = py{34,35,36},flake8

[testenv]
# Change dir to avoid import problem for cython code. The directory does
# not really matter, should be just different from the toplevel dir.
changedir = {toxworkdir}
deps =
     -rrequirements.d/development.lock.txt
     -rrequirements.d/fuse.txt
commands = py.test -k "not Remote" --benchmark-skip --pyargs {posargs:borg.testsuite}
# fakeroot -u needs some env vars:
passenv = *

[testenv:flake8]
changedir =
deps = flake8<3.6.0
commands = flake8
